<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Parcial JS </title>
    <link href="default.css" rel="stylesheet" type="text/css" />

    <script>

        // COMPLETE ESTA SECCIÓN CON LA RESOLUCION
        document.addEventListener('DOMContentLoaded', () => {

          // Capturo el boton jugar.
          const botonJugar = document.querySelector('.button');
          // Capturo el div ultima bolilla.
          let ultimaBolilla = document.getElementById('ultimaBolilla');
          // Capturo mensaje va ganando.
          let vaGanando = document.getElementById('vaGanando');
          // Capturo las tiras 
          /*
          The read-only children property returns a live HTMLCollection which contains 
          all of the child elements of the element upon which it was called.
          */
          const tiraLaura = document.getElementById('tira-laura').children;
          const tablaLaura = [];
          const tiraJorgelina = document.getElementById('tira-jorgelina').children;
          const tablaJorgelina = [];
          const tiraAlejandra = document.getElementById('tira-alejandra').children;
          const tablaAlejandra = [];

          botonJugar.addEventListener('click', () => {
            // Genero número aleatorio.
            ultimaBolilla.textContent = Math.floor(Math.random()*100);

            // Recorro la tira de Laura.
            for (let i = 0; i < tiraLaura.length; i++) {
              if (parseInt(tiraLaura[i].textContent) === parseInt(ultimaBolilla.textContent) && !tablaLaura.includes(parseInt(tiraLaura[i].textContent))) {
                tablaLaura.push(parseInt(tiraLaura[i].textContent));
                tiraLaura[i].style.backgroundColor = "darkblue";
              }
            }

            // Recorro la tira de Jorgelina.
            for (let i = 0; i < tiraJorgelina.length; i++) {
              if (parseInt(tiraJorgelina[i].textContent) === parseInt(ultimaBolilla.textContent) && !tablaJorgelina.includes(parseInt(tiraJorgelina[i].textContent))) {
                tablaJorgelina.push(parseInt(tiraJorgelina[i].textContent));
                tiraJorgelina[i].style.backgroundColor = "darkblue";
              }
            }

            // Recorro la tira de Alejandra.
            for (let i = 0; i < tiraAlejandra.length; i++) {
              if (parseInt(tiraAlejandra[i].textContent) === parseInt(ultimaBolilla.textContent) && !tablaAlejandra.includes(parseInt(tiraAlejandra[i].textContent))) {
                tablaAlejandra.push(parseInt(tiraAlejandra[i].textContent));
                tiraAlejandra[i].style.backgroundColor = "darkblue";
              }
            }

            // Analizo quien va ganando.
            if (tablaLaura.length > tablaAlejandra.length && tablaLaura.length > tablaJorgelina.length) {
              vaGanando.textContent = "Laura va ganando";
            }
            else if (tablaAlejandra.length > tablaLaura.length && tablaAlejandra.length > tablaJorgelina.length) {
              vaGanando.textContent = "Alejandra va ganando";
            }
            else if (tablaJorgelina.length > tablaLaura.length && tablaJorgelina.length > tablaAlejandra.length) {
              vaGanando.textContent = "Jorgelina va ganando";
            }
            else {
              vaGanando.textContent = "Empate";
            }

            // Desactivo boton jugar cuando alguna llega a completar la tira.
            if (tablaLaura.length === tiraLaura.length) {
              vaGanando.textContent = "Ganó Laura";
              botonJugar.disabled = true;
            }
            else if (tablaAlejandra.length === tiraAlejandra.length) {
              vaGanando.textContent = "Ganó Alejandra";
              botonJugar.disabled = true;
            }
            else if (tablaJorgelina.length === tiraJorgelina.length) {
              vaGanando.textContent = "Ganó Jorgelina";
              botonJugar.disabled = true;
            }


          })


        })

    </script>


</head>

<body>
    <div id="header">
        <div id="logo" style="margin-left: 15px">
            <h1><a href="#">Programación Estática y Laboratorio Web</a></h1>
            <h2><a href="#">Recuperatorio JS Ejercicio 1</a></h2>
        </div>
    </div>
    <div id="menu">
        <ul>
            <li><a href="Ej1_Consigna.html">Consigna</a></li>
            <li><a href="Ej1_Resolucion.html">HOJA Ejercicio</a></li>
        </ul>
    </div>
    <div id="content;width: 100%;">

      <table style="width: 60%;margin: auto;" >
<tr>
  <td>
    <div style="text-align: center;">
      <br><br> 
    <div class="square" id="ultimaBolilla">0</div>
  
    <br/>
    <button class="button">Jugar</button>      

  </div>
    <br/>
    <div id="vaGanando" style="font-size: 48px;background-color: lightgreen; border: 1px solid black;padding: 10px;text-align: center;">
      Empate
    </div>
    <br/><br/>
  </td>


  <td>
   
    <div class="tira-container">
      <div class="titulo">Bingo Laura</div>
      <div class="tira-numeros" id="tira-laura">
          <div class="cuadrado">07</div>
          <div class="cuadrado">22</div>
          <div class="cuadrado">35</div>
          <div class="cuadrado">49</div>
          <div class="cuadrado">58</div>
          <div class="cuadrado">63</div>
          <div class="cuadrado">71</div>
          <div class="cuadrado">85</div>
          <div class="cuadrado">89</div>
          <div class="cuadrado">91</div>
      </div>
    </div>

    <div class="tira-container">
      <div class="titulo">Bingo Jorgelina</div>
      <div class="tira-numeros" id="tira-jorgelina">
          <div class="cuadrado">05</div>
          <div class="cuadrado">18</div>
          <div class="cuadrado">27</div>
          <div class="cuadrado">35</div>
          <div class="cuadrado">44</div>
          <div class="cuadrado">52</div>
          <div class="cuadrado">69</div>
          <div class="cuadrado">78</div>
          <div class="cuadrado">85</div>
          <div class="cuadrado">91</div>
      </div>
  </div>

  <div class="tira-container">
    <div class="titulo">Bingo Alejandra</div>
    <div class="tira-numeros" id="tira-alejandra">
        <div class="cuadrado">02</div>
        <div class="cuadrado">13</div>
        <div class="cuadrado">24</div>
        <div class="cuadrado">39</div>
        <div class="cuadrado">49</div>
        <div class="cuadrado">57</div>
        <div class="cuadrado">66</div>
        <div class="cuadrado">78</div>
        <div class="cuadrado">89</div>
        <div class="cuadrado">91</div>
    </div>
  </div>



  </td>
</tr>
</table>




    </div>
    <div id="footer" style="margin-top: 240px;">
        <p id="legal">Copyright &copy; AtomoHost. All Rights Reserved.
            Designed by <a href="http://www.freecsstemplates.org/">Free CSS
                Templates</a>.</p>
        <p id="links"><a href="#">Privacy Policy</a> | <a href="#">Terms
                of Use</a></p>
    </div>
    <br />
    <br />
</body>

</html>